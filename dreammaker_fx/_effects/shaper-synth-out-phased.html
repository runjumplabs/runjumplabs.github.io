---
layout: default
name: shaper-synth-out-phased
effect_type: synth-effects
---
<pre>
// Requires v1.1 Firmware
#include <afx.h>

/*
This effect sends the clean channel straight through.  It then generates
a sub-octave synth channel with the shaper effect which runs through a 
phase shifter.  The result is then mixed with the clean signal to create
a funky, bassy guitar/bass synth sound.
 
                          +------+        +--------+
                          |      |  oct_1 |        |      +-------+
                      +-->+Shaper+------->+Phase   +----->+       |
                      |   |      |        |shifter |      |       |
      Instr In  +---->+   +------+        |        |      | mix_2 +----> Amp Out
                      |                   +--------+      |       |
                      |                                   |       |
                      +---------------------------------->+       |
                                 Clean                    +-------+


  Block diagram created with http://asciiflow.com/

  This effect requires firmware / API version 1.1 or later

 */

// Instance of Shaper
fx_shaper   shapey(0.7,   // Clean mix
                   0.8,   // Synth mix
                   0.1,   // Sub octave 1 mix
                   0.1);  // Sub octave 2 mix

// Instance of phase shifter
fx_phase_shifter phasey(0.25,   // Rate (Hz)
                        0.7,    // Depth (0.0 -> 1.0)
                        0.5);   // Feedback (0.0 -> 1.0)

// Instance of 2 channel mixer                        
fx_mixer_2  mix2;

void setup() {
  // put your setup code here, to run once:
  pedal.init();

  pedal.route_audio(pedal.instr_in, shapey.input);
  pedal.route_audio(shapey.oct_1_output, phasey.input);
  pedal.route_audio(phasey.output, mix2.input_1);
  pedal.route_audio(pedal.instr_in, mix2.input_2);
  pedal.route_audio(mix2.output, pedal.amp_out);

  // Optional code to print out the routing details to console
  if (true) {
    pedal.print_instance_stack();
    pedal.print_routing_table();
    pedal.print_param_tables();
  }
  // Run this effect
  pedal.run();

}

void loop() {
  // put your main code here, to run repeatedly:
  
  
  // Always need the service loop
  pedal.service();
}

</pre>
